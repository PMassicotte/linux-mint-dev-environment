# Installing R

Note: Before installing R, make sure that you have the latest gdal, geos libraries installed so `terra`, `sf` and other R packages compile correctly.

## Installing the latest R version

These instructions are from [how to set up R on Ubuntu](https://blog.zenggyu.com/en/post/2018-01-29/installing-r-r-packages-e-g-tidyverse-and-rstudio-on-ubuntu-linux/).

First, open `sources.list`:

``` bash
sudo nano /etc/apt/sources.list
```

Then add this:

``` bash
deb https://cloud.r-project.org/bin/linux/ubuntu focal-cran40/
```

``` bash
sudo apt-key adv --keyserver keyserver.ubuntu.com --recv-keys E298A3A825C0D65DFD57CBB651716619E084DAB9
sudo apt install libcurl4-openssl-dev libssl-dev libxml2-dev libfontconfig1-dev libcairo2-dev
```

Finally, install R:

``` bash
sudo apt update
sudo apt install r-base
```

## Installing R binaries for Ubuntu

**https://enchufa2.github.io/rspm/**

Then paste this

```r
usethis::edit_r_profile()
```

And add this:

```r
rspm::enable() # wrap it in suppressMessages() to avoid the initial message
```

## Using rig

[rig](https://github.com/r-lib/rig) a tool to manage different version of R installation on your computer. 

To install it (note that the destination path is not the same as the one shown on the `rig` website because R was installed in `/usr/` and not `/usr/local/`):

```bash
curl -Ls curl -Ls https://github.com/r-lib/rig/releases/download/v0.5.0/rig-linux-0.5.0.tar.gz | sudo tar xz -C /usr/
```

Once installed, one can install different versions of R like so:

```bash
rig add 4.1.0
rig add 4.2.0
```

Starting RStudio with a specific version of R can be done with:

```bash
rig rstudio 4.1.0
```

It is also possible to start RStudio with a specific version of R that is defined in the `renv` lcok file:

```bash
rig rstudio <renv-lockfile> 
```


## RStudio

### Installing themes

```r
devtools::install_github("gadenbuie/rsthemes")
```

These can be visualized with:

```r
rsthemes::try_rsthemes()
```

